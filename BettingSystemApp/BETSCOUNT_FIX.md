# Исправление ошибки с BetsCount

## Проблема
```
System.Data.ConstraintException: "The 'BetsCount' property on 'User' could not be set to a 'null' value. You must set this property to a non-null value of type 'System.Int32'."
```

## Причина
В базе данных поле `BetsCount` в таблице `Users` может содержать `NULL` значения, но в модели C# оно было определено как не-nullable `int`.

## Исправления

### 1. Обновлена модель User.cs
```csharp
// Было:
public int BetsCount { get; set; }

// Стало:
public int? BetsCount { get; set; }
```

### 2. Исправлены все места использования BetsCount

#### AdminWindow.xaml.cs
```csharp
// Архивирование:
user.BetsCount ?? 0

// Разархивирование:
BetsCount = betsCount, // Уже правильно, так как betsCount - это int
```

#### DirectorWindow.xaml.cs
```csharp
// Отчеты:
user.BetsCount ?? 0

// CSV отчет:
user.BetsCount ?? 0
```

### 3. Обработка null значений
- Везде, где отображается `BetsCount`, добавлена проверка на null
- Используется оператор `??` для предоставления значения по умолчанию (0)
- При создании новых пользователей `BetsCount` устанавливается в 0

## Результат
- ✅ Поле `BetsCount` теперь корректно обрабатывает `NULL` значения
- ✅ Приложение не падает при работе с пустыми значениями количества ставок
- ✅ Архивирование и разархивирование работает корректно
- ✅ Отчеты отображают 0 для пустых значений

## Тестирование
1. Запустите приложение
2. Войдите как admin/admin123
3. Проверьте, что пользователи отображаются корректно
4. Проверьте архивирование и разархивирование пользователей
5. Проверьте отчеты директора

## Примечание
Поле `BetsCount` теперь может быть null, но в интерфейсе отображается как 0. Это позволяет корректно работать с существующими данными в базе. 